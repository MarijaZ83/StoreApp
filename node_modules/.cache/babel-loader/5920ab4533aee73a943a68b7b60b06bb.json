{"ast":null,"code":"import _regeneratorRuntime from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{Link,useParams,Outlet}from\"react-router-dom\";import storeContext from\"../../store-context/storeContext\";import{ProductCard}from\"../product-card/ProductCard\";import\"./ProductDetails.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProductDetails=function ProductDetails(){var params=useParams();var _useContext=useContext(storeContext),addToCart=_useContext.addToCart;var id=params.id;var _useState=useState({category:\"\",description:\"\",id:0,image:\"\",price:0,rating:{},title:\"\"}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var fetchSingleProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var response,product;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://fakestoreapi.com/products/\".concat(id));case 2:response=_context.sent;_context.next=5;return response.json();case 5:product=_context.sent;setProduct(product);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchSingleProduct(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var interval=setInterval(function(){},2000);fetchSingleProduct(id);return function(){clearInterval(interval);};},[id]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(Link,{to:\"/products\",children:/*#__PURE__*/_jsx(\"p\",{className:\"link__back\",children:\"Go back to all products\"})}),product.title?/*#__PURE__*/_jsx(ProductCard,{product:product,addToCart:addToCart,showDetails:false}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",children:/*#__PURE__*/_jsx(\"p\",{className:\"link__back\",children:\"Go back to all products\"})})]}),/*#__PURE__*/_jsx(Outlet,{})]});};","map":{"version":3,"sources":["E:/Projects/Store App (React)/src/components/product-details/ProductDetails.jsx"],"names":["React","useEffect","useState","useContext","Link","useParams","Outlet","storeContext","ProductCard","ProductDetails","params","addToCart","id","category","description","image","price","rating","title","product","setProduct","fetchSingleProduct","fetch","response","json","interval","setInterval","clearInterval"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,MAA1B,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,OAASC,WAAT,KAA4B,6BAA5B,CACA,MAAO,uBAAP,C,wFAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAClC,GAAMC,CAAAA,MAAM,CAAGL,SAAS,EAAxB,CACA,gBAAsBF,UAAU,CAACI,YAAD,CAAhC,CAAQI,SAAR,aAAQA,SAAR,CACA,GAAQC,CAAAA,EAAR,CAAeF,MAAf,CAAQE,EAAR,CAEA,cAA8BV,QAAQ,CAAC,CACrCW,QAAQ,CAAE,EAD2B,CAErCC,WAAW,CAAE,EAFwB,CAGrCF,EAAE,CAAE,CAHiC,CAIrCG,KAAK,CAAE,EAJ8B,CAKrCC,KAAK,CAAE,CAL8B,CAMrCC,MAAM,CAAE,EAN6B,CAOrCC,KAAK,CAAE,EAP8B,CAAD,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eAUA,GAAMC,CAAAA,kBAAkB,0FAAG,iBAAOT,EAAP,6JACFU,CAAAA,KAAK,6CAAsCV,EAAtC,EADH,QACnBW,QADmB,qCAEHA,CAAAA,QAAQ,CAACC,IAAT,EAFG,QAEnBL,OAFmB,eAIzBC,UAAU,CAACD,OAAD,CAAV,CAJyB,sDAAH,kBAAlBE,CAAAA,kBAAkB,4CAAxB,CAOCpB,SAAS,CAAC,UAAM,CACb,GAAMwB,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CAElC,CAF2B,CAEzB,IAFyB,CAA5B,CAGDL,kBAAkB,CAACT,EAAD,CAAlB,CAED,MAAO,WAAM,CACVe,aAAa,CAACF,QAAD,CAAb,CACD,CAFF,CAGA,CATQ,CASN,CAACb,EAAD,CATM,CAAT,CAWD,mBACE,oCACE,aAAK,SAAS,CAAC,SAAf,wBACA,KAAC,IAAD,EAAM,EAAE,CAAE,WAAV,uBACE,UAAG,SAAS,CAAC,YAAb,qCADF,EADA,CAKGO,OAAO,CAACD,KAAR,cACC,KAAC,WAAD,EACE,OAAO,CAAEC,OADX,CAEE,SAAS,CAAER,SAFb,CAGE,WAAW,CAAE,KAHf,EADD,cAOC,iCAZJ,cAeE,KAAC,IAAD,EAAM,EAAE,CAAE,WAAV,uBACE,UAAG,SAAS,CAAC,YAAb,qCADF,EAfF,GADF,cAqBE,KAAC,MAAD,IArBF,GADF,CAyBD,CA1DM","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Link, useParams, Outlet } from \"react-router-dom\";\nimport storeContext from \"../../store-context/storeContext\";\nimport { ProductCard } from \"../product-card/ProductCard\";\nimport \"./ProductDetails.scss\";\n\nexport const ProductDetails = () => {\n  const params = useParams();\n  const { addToCart } = useContext(storeContext);\n  const { id } = params;\n\n  const [product, setProduct] = useState({\n    category: \"\",\n    description: \"\",\n    id: 0,\n    image: \"\",\n    price: 0,\n    rating: {},\n    title: \"\",\n  });\n\n  const fetchSingleProduct = async (id) => {\n    const response = await fetch(`https://fakestoreapi.com/products/${id}`); \n    const product = await response.json();\n\n    setProduct(product);\n  };\n\n   useEffect(() => {\n      const interval = setInterval(() => {\n\n      }, 2000);\n     fetchSingleProduct(id);\n\n    return () => {\n       clearInterval(interval);\n     };\n   }, [id]);\n\n  return (\n    <div>\n      <div className=\"details\">\n      <Link to={\"/products\"}>\n        <p className=\"link__back\">Go back to all products</p>\n      </Link>\n\n        {product.title ? (\n          <ProductCard\n            product={product}\n            addToCart={addToCart}\n            showDetails={false}\n          />\n        ) : (\n          <p>Loading...</p>\n        )}\n\n        <Link to={\"/products\"}>\n          <p className=\"link__back\">Go back to all products</p>\n        </Link>\n\n      </div>\n      <Outlet />\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}