{"ast":null,"code":"import _toConsumableArray from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/Projects/Store App (React)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import StoreContext from\"./storeContext\";import{paginateArray}from\"../utils/pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";export var StoreGlobalState=function StoreGlobalState(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),filteredName=_useState6[0],setFilterName=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),pageNumber=_useState8[0],setPageNumber=_useState8[1];var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://fakestoreapi.com/products\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;console.log(result);setProducts(result);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){console.log(\"Component did mount\");fetchProducts();},[]);useEffect(function(){console.log(\"New product is pushed to the cart list\");},[cart]);var addToCart=function addToCart(product){setCart([].concat(_toConsumableArray(cart),[product]));};var handleRemoveFromCart=function handleRemoveFromCart(id){var filteredArray=cart.filter(function(product){return product.id!==id;});setCart(filteredArray);};var handleFilterName=function handleFilterName(e){var value=e.target.value;setFilterName(value.trim().toLowerCase());};var handlePageNumber=function handlePageNumber(increment){increment?setPageNumber(pageNumber+1):setPageNumber(pageNumber-1);};var handleRemoveProduct=function handleRemoveProduct(id){var filteredArray=products.filter(function(product){return product.id!==id;});setProducts(filteredArray);};var filteredProducts=function filteredProducts(){return paginateArray(products.filter(function(product){return product.title.trim().toLowerCase().includes(filteredName);}),4,pageNumber);};return/*#__PURE__*/_jsx(StoreContext.Provider,{value:{products:products,filteredName:filteredName,pageNumber:pageNumber,cart:cart,addToCart:addToCart,handleFilterName:handleFilterName,handlePageNumber:handlePageNumber,handleRemoveProduct:handleRemoveProduct,setProducts:setProducts,filteredProducts:filteredProducts,handleRemoveFromCart:handleRemoveFromCart},children:props.children});};","map":{"version":3,"sources":["E:/Projects/Store App (React)/src/store-context/StoreGlobalContextState.jsx"],"names":["React","useState","useEffect","StoreContext","paginateArray","StoreGlobalState","props","products","setProducts","cart","setCart","filteredName","setFilterName","pageNumber","setPageNumber","fetchProducts","fetch","response","json","result","console","log","addToCart","product","handleRemoveFromCart","id","filteredArray","filter","handleFilterName","e","value","target","trim","toLowerCase","handlePageNumber","increment","handleRemoveProduct","filteredProducts","title","includes","children"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport StoreContext from \"./storeContext\";\nimport { paginateArray } from \"../utils/pagination\";\n\nexport const StoreGlobalState = (props) => {\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [filteredName, setFilterName] = useState(\"\");\n  const [pageNumber, setPageNumber] = useState(1);\n\n  const fetchProducts = async () => {\n    const response = await fetch(\"https://fakestoreapi.com/products\");\n    const result = await response.json();\n\n    console.log(result);\n    setProducts(result);\n  };\n\n  useEffect(() => {\n    console.log(\"Component did mount\");\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    console.log(\"New product is pushed to the cart list\");\n  }, [cart]);\n\n  const addToCart = (product) => {\n    setCart([...cart, product]);\n  };\n\n  const handleRemoveFromCart = (id) => {\n    const filteredArray = cart.filter((product) => product.id !== id);\n    setCart(filteredArray);\n  };\n\n  const handleFilterName = (e) => {\n    const value = e.target.value;\n    setFilterName(value.trim().toLowerCase());\n  };\n\n  const handlePageNumber = (increment) => {\n    increment ? setPageNumber(pageNumber + 1) : setPageNumber(pageNumber - 1);\n  };\n\n  const handleRemoveProduct = (id) => {\n    const filteredArray = products.filter((product) => product.id !== id);\n    setProducts(filteredArray);\n  };\n\n  const filteredProducts = () => {\n    return paginateArray(\n      products.filter((product) =>\n        product.title.trim().toLowerCase().includes(filteredName)\n      ),\n      4,\n      pageNumber\n    );\n  };\n  return (\n    <StoreContext.Provider\n      value={{\n        products: products,\n        filteredName: filteredName,\n        pageNumber: pageNumber,\n        cart: cart,\n        addToCart: addToCart,\n        handleFilterName: handleFilterName,\n        handlePageNumber: handlePageNumber,\n        handleRemoveProduct: handleRemoveProduct,\n        setProducts: setProducts,\n        filteredProducts: filteredProducts,\n        handleRemoveFromCart: handleRemoveFromCart,\n      }}\n    >\n      {props.children}\n    </StoreContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}